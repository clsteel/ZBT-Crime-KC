kc_2017 = read.csv('/KCPD_Crime_Data_2017.csv')
kc_2017 = read.csv('./KCPD_Crime_Data_2017.csv')
kc_2017 = read.csv('./KCPD_Crime_Data_2017.csv')
kc_2018 = read.csv('./KCPD_Crime_Data_2018.csv')
kc_2019 = read.csv('./KCPD_Crime_Data_2019.csv')
kc_2020 = read.csv('./KCPD_Crime_Data_2020.csv')
kc_2021 = read.csv('./KCPD_Crime_Data_2021.csv')
kc_2022 = read.csv('./KCPD_Crime_Data_2022.csv')
colnames(kc_2017,kc_2018,kc_2019)
colnames(kc_2017)
colnames(kc_2017)
colnames(kc_2018)
colnames(kc_2019)
View(kc_2017)
all_years = merge(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022, all=TRUE)
all_years = rbind(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022, all=TRUE)
install.packages('dplyr')
library(dplyr)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
View(kc_2021)
View(kc_2021)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
kc_2017$Offense <- as.character(kc_2017$Offense)
kc_2018$Offense <- as.character(kc_2018$Offense)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
kc_2017$Offense <- as.character(kc_2017$Offense)
kc_2018$Offense <- as.character(kc_2018$Offense)
kc_2017$Beat <- as.character(kc_2017$Beat)
kc_2018$Beat <- as.character(kc_2018$Beat)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
kc_2017$Offense <- as.character(kc_2017$Offense)
kc_2018$Offense <- as.character(kc_2018$Offense)
kc_2017$Beat <- as.character(kc_2017$Beat)
kc_2018$Beat <- as.character(kc_2018$Beat)
kc_2017$Zip.Code <- as.character(kc_2017$Zip.Code)
kc_2018$Zip.Code <- as.character(kc_2018$Zip.Code)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
kc_2017$Offense <- as.character(kc_2017$Offense)
kc_2018$Offense <- as.character(kc_2018$Offense)
kc_2017$Beat <- as.character(kc_2017$Beat)
kc_2018$Beat <- as.character(kc_2018$Beat)
kc_2017$Zip.Code <- as.character(kc_2017$Zip.Code)
kc_2018$Zip.Code <- as.character(kc_2018$Zip.Code)
kc_2020$Zip.Code <- as.character(kc_2020$Zip.Code)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
kc_2017$Report_No <- as.character(kc_2017$Report_No)
kc_2018$Report_No <- as.character(kc_2018$Report_No)
kc_2017$Offense <- as.character(kc_2017$Offense)
kc_2018$Offense <- as.character(kc_2018$Offense)
kc_2017$Beat <- as.character(kc_2017$Beat)
kc_2018$Beat <- as.character(kc_2018$Beat)
kc_2017$Zip.Code <- as.character(kc_2017$Zip.Code)
kc_2018$Zip.Code <- as.character(kc_2018$Zip.Code)
kc_2019$Zip.Code <- as.character(kc_2019$Zip.Code)
kc_2020$Zip.Code <- as.character(kc_2020$Zip.Code)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
View(all_years)
View(all_years)
colnames(kc_2020)[colnames(kc_2020) == 'Reported.Time'] = 'Reported_Time'
colnames(kc_2020)[colnames(kc_2020) == 'Reported.Time'] = 'Reported_Time'
colnames(kc_2020)[colnames(kc_2020) == 'From.Time'] = 'From_Time'
colnames(kc_2020)[colnames(kc_2020) == 'To.Time'] = 'To_Time'
colnames(kc_2022)[colnames(kc_2022) == 'Fire.Arm.Used.Flag'] = 'Firearm.Used.Flag'
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
View(kc_2020)
View(kc_2020)
View(kc_2017)
View(kc_2017)
all_years$Reported_Date <- format(as.Date(all_years$Reported_Date, format=%m/%d/%Y)
all_years$Reported_Date <- format(as.Date(all_years$Reported_Date, format="%m/%d/%Y")
all_years$Reported_Date <- format(as.Date(all_years$Reported_Date, format="%m/%d/%Y"))
all_years$new_date <- format(as.Date(all_years$Reported_Date, format="%m/%d/%Y"))
all_years$new_date <- format(as.Date(all_years$Reported_Date, format="%Y/%m/%d"))
View(all_years)
View(all_years)
all_years$new_date <- as.Date(all_years$Reported_Date, format="%Y/%m/%d")
all_years$new_date <- as.Date(all_years$Reported_Date, "%Y/%m/%d")
all_years <- all_years |> mutate(Reported_Date = as.Date(Reported_Date, format = "%Y/%m/%d"))
View(all_years)
View(all_years)
all_years = bind_rows(kc_2017,kc_2018, kc_2019, kc_2020, kc_2021, kc_2022)
all_years <- all_years |> mutate(Reported_Date = as.Date(Reported_Date, format = "%m/%d/%Y"))
View(all_years)
View(all_years)
#all_years <- all_years |> mutate(Reported_Date = as.Date(Reported_Date, format = "%m/%d/%Y"))
all_years$year <- as.numeric(format(all_years$Reported_Date, '%Y'))
#install.packages('dplyr')
install.packages('ggplot2')
library(dplyr)
library(ggplot2)
gg_miss_var(description, facet=year)
miss_var_summary(description, facet=year)
miss_var_summary(Description, facet=year)
#install.packages('dplyr')
#install.packages('ggplot2')
install.packages('nanair')
#install.packages('dplyr')
#install.packages('ggplot2')
install.packages('naniar')
library(dplyr)
library(ggplot2)
library(nanair)
library(dplyr)
library(ggplot2)
library(naniar)
miss_var_summary(Description, facet=year)
gg_miss_var(all_years$Description, facet=year)
gg_miss_var(all_years$Description, facet=all_years$year)
gg_miss_var(all_years, Description, facet=year)
gg_miss_var(all_years, facet=year)
hist(year)
years <- all_years$year
hist(year)
years <- all_years$year
hist(years)
View(all_years)
View(all_years)
all_years_clean <- filter(all_years, year >= 2017)
gg_miss_var(all_years_clean, facet=year)
years <- all_years_clean$year
hist(years)
gg_miss_var(all_years_clean)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date))
gg_miss_var(all_years_clean)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age))
all_years_clean <- filter(all_years, year >= 2017)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age))
gg_miss_var(all_years_clean)
gg_miss_var(all_years_clean, facet=year)
summary(all_years_clean)
all_years_clean <- filter(all_years, year >= 2017)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age, Involvement))
gg_miss_var(all_years_clean, facet=year)
summary(all_years_clean)
summary(all_years_clean)
table(is.na(all_years_clean))
summary(all_years_clean)
colSums(is.na(all_years_clean))
all_years_clean[all_years_clean == ''] <- NA
summary(all_years_clean)
colSums(is.na(all_years_clean))
colSums(is.na(all_years_clean))
View(all_years_clean)
View(all_years_clean)
View(all_years_clean)
distinct(all_years_clean, Report_No, keep_all=TRUE)
distinct(all_years_clean, Report_No, .keep_all=TRUE)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age, Involvement))
all_years_clean <- filter(all_years, year >= 2017)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Invl_No, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age, Involvement))
all_years_clean[all_years_clean == ''] <- NA
colSums(is.na(all_years_clean))
distinct(all_years_clean, Report_No, .keep_all=TRUE)
all_years_test <- distinct(all_years_clean, Report_No, .keep_all=TRUE)
View(all_years_test)
View(all_years_test)
all_years_test <- distinct(all_years_clean, Report_No, year, .keep_all=TRUE)
all_years_test <- distinct(all_years_clean, Report_No, .keep_all=TRUE)
all_years_clean <- distinct(all_years_clean, Report_No, .keep_all=TRUE)
View(all_years_clean)
View(all_years_clean)
duplicated(all_years_clean[,2:3])
investigate <- duplicated(all_years_clean[,2:3])
all_years_clean[investigate,]
group_by(Reported_Date, Reported_Time, Address) %>%
filter(n() > 1)
group_by(all_years_clean, Reported_Date, Reported_Time, Address) %>%
filter(n() > 1)
dupes <- group_by(all_years_clean, Reported_Date, Reported_Time, Address) %>%
filter(n() > 1)
View(dupes)
View(dupes)
all_years_clean <- filter(all_years, year >= 2017)
all_years_clean <- subset(all_years_clean, select= -c(Age_Range, Sex, Race, Beat, Rep_Dist, From_Time, From_Date, To_Time, To_Date, Age, Involvement))
all_years_clean[all_years_clean == ''] <- NA
colSums(is.na(all_years_clean))
all_years_clean <- distinct(all_years_clean, Report_No, .keep_all=TRUE)
dupes <- group_by(all_years_clean, Reported_Date, Reported_Time, Address) %>%
filter(n() > 1)
View(dupes)
